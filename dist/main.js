(()=>{"use strict";function e(){const e=document.getElementById("project-list");0===t.length?e.innerHTML="<p>You don't have projects yet</p>":(e.innerHTML="",t.forEach(((t,c)=>{const{deleteProject:d,projectName:r,editProject:l}=t,a=document.createElement("li"),u=document.createElement("label");u.setAttribute("for",`${r.toLowerCase().split(" ").join("-")}-project`),u.textContent=r;const s=document.createElement("input");s.setAttribute("type","radio"),s.setAttribute("id",`${r.toLowerCase().split(" ").join("-")}-project`),s.setAttribute("name","project"),s.setAttribute("value",r),o.checked&&o.projectName===r&&s.setAttribute("checked","checked"),n&&r===n&&s.setAttribute("checked","checked");const m=document.createElement("form");m.setAttribute("id","edit-project-form"),m.style.display="none";const C=document.createElement("label");C.textContent="Project Name",C.setAttribute("for","edit-project");const h=document.createElement("input");h.setAttribute("id","edit-project");const E=document.createElement("button");E.setAttribute("type","button"),E.textContent="Edit Project",E.addEventListener("click",(()=>{l(c,h.value),m.style.display="none",h.value=""})),m.appendChild(C),m.appendChild(h),m.appendChild(E),e.appendChild(m);const j=document.createElement("button"),b=document.createElement("button");j.textContent="Edit",b.textContent="Delete",j.addEventListener("click",(()=>m.style.display="block")),b.addEventListener("click",(()=>{d(c),i(),p()})),a.appendChild(u),a.appendChild(s),a.appendChild(j),a.appendChild(b),e.appendChild(a)})))}const t=[];let n,o={};const c=()=>{document.querySelectorAll('input[name="project"]').forEach((e=>{e.checked&&(n=e.value)}))},d=document.querySelector("main"),r=document.createElement("section");r.setAttribute("id","todo-list"),d.appendChild(r);let l=[];function i(){l=document.querySelectorAll('input[name="project"]'),l.forEach((e=>e.addEventListener("change",(()=>{p(),u()}))))}function p(){d.removeChild(r),r.innerHTML="";const e=Array.from(l).find((e=>!0===e.checked)),n=t.find((t=>t.projectName===e.value));if(e){const t=document.createElement("div"),o=document.createElement("h2");o.textContent=e.value;const c=document.createElement("button");c.textContent="Create New Todo",c.addEventListener("click",(()=>n.createTodo())),t.appendChild(o),t.appendChild(c),r.appendChild(t)}d.appendChild(r)}const a=document.createElement("div");function u(){const e=Array.from(l).find((e=>!0===e.checked)),n=t.find((t=>t.projectName===e.value));a.innerHTML="",n.todoProjectList.forEach(((e,t)=>{if(!0===e.completed){const e=document.createElement("h2");e.textContent="Completed",a.appendChild(e)}const n=document.createElement("h3");n.textContent=e.todoTitle;const o=document.createElement("p");o.textContent="Created At: ";const c=document.createElement("p");c.textContent=e.todoDescription;const d=document.createElement("button");d.textContent="Complete",d.addEventListener("click",(()=>e.onComplete(t,0)));const r=document.createElement("button");r.textContent="Edit";const l=document.createElement("button");l.textContent="Delete",l.addEventListener("click",(()=>e.onDelete(t,0))),a.appendChild(n),a.appendChild(o),a.appendChild(c),a.appendChild(d),a.appendChild(r),a.appendChild(l)})),r.appendChild(a)}const s=document.querySelector("main"),{projectsSection:m}=(()=>{const d=document.createElement("section");d.setAttribute("id","todo-projects");const r=document.createElement("div"),l=document.createElement("p"),a=document.createElement("button");a.textContent="Create New Project",a.addEventListener("click",(()=>s.style.display="block")),r.appendChild(l),r.appendChild(a);const s=document.createElement("form");s.setAttribute("id","new-project-form"),s.style.display="none";const m=document.createElement("label");m.textContent="Project Name",m.setAttribute("for","new-project");const C=document.createElement("input");C.setAttribute("id","new-project");const h=document.createElement("button");h.setAttribute("type","button"),h.textContent="Create New Project",h.addEventListener("click",(()=>{var d;d=C.value,t.push(function(d){const r=[];return{projectName:d,todoProjectList:r,deleteProject:o=>{t.splice(o,1),c(),e(),n=null},createTodo:()=>{r.push({todoTitle:"Hola",todoDescription:"Esto es una prueba",completed:!1,onComplete:(e,n)=>{!1===t[n].todoProjectList[e].completed?t[n].todoProjectList[e].completed=!0:t[n].todoProjectList[e].completed=!1,u()},onEdit:()=>{},onDelete:(e,n)=>{t[n].todoProjectList.splice(t[n].todoProjectList[e],1),u()}}),u()},editProject:(d,r)=>{t[d].projectName=r,((e,t)=>{const n=document.querySelectorAll('input[name="project"]');o={projectName:t,checked:n[e].checked}})(d,r),c(),e(),i(),p(),u(),o={},n=null}}}(d)),c(),e(),n=null,s.style.display="none",i(),C.value=""})),s.appendChild(m),s.appendChild(C),s.appendChild(h);const E=document.createElement("ul");return E.setAttribute("id","project-list"),d.appendChild(r),d.appendChild(E),d.appendChild(s),{projectsSection:d}})();s.appendChild(m),e()})();