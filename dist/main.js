(()=>{"use strict";function e(){const e=document.getElementById("project-list");0===t.length?e.innerHTML="<p>You don't have projects yet</p>":(e.innerHTML="",t.forEach(((t,c)=>{const{deleteProject:d,projectName:i,editProject:l}=t,r=document.createElement("li"),p=document.createElement("label");p.setAttribute("for",`${i.toLowerCase().split(" ").join("-")}-project`),p.textContent=i;const m=document.createElement("input");m.setAttribute("type","radio"),m.setAttribute("id",`${i.toLowerCase().split(" ").join("-")}-project`),m.setAttribute("name","project"),m.setAttribute("value",i),o.checked&&o.projectName===i&&m.setAttribute("checked","checked"),n&&i===n&&m.setAttribute("checked","checked");const s=document.createElement("form");s.setAttribute("id","edit-project-form"),s.style.display="none";const C=document.createElement("label");C.textContent="Project Name",C.setAttribute("for","edit-project");const h=document.createElement("input");h.setAttribute("id","edit-project");const E=document.createElement("button");E.setAttribute("type","button"),E.textContent="Edit Project",E.addEventListener("click",(()=>{l(c,h.value),s.style.display="none",h.value=""})),s.appendChild(C),s.appendChild(h),s.appendChild(E),e.appendChild(s);const b=document.createElement("button"),j=document.createElement("button");b.textContent="Edit",j.textContent="Delete",b.addEventListener("click",(()=>s.style.display="block")),j.addEventListener("click",(()=>{d(c),a(),u()})),r.appendChild(p),r.appendChild(m),r.appendChild(b),r.appendChild(j),e.appendChild(r)})))}const t=[];let n,o={};const c=new Date,d=()=>{document.querySelectorAll('input[name="project"]').forEach((e=>{e.checked&&(n=e.value)}))},i=document.querySelector("main"),l=document.createElement("section");l.setAttribute("id","todo-list"),i.appendChild(l);let r=[];function a(){r=document.querySelectorAll('input[name="project"]'),r.forEach((e=>e.addEventListener("change",(()=>{u(),s()}))))}const p=()=>{const e=document.getElementById("todo-list"),n=Array.from(r).find((e=>!0===e.checked)),o=t.find((e=>e.projectName===n.value)),d=document.createElement("form"),i=document.createElement("label");i.textContent="Title",i.setAttribute("for","todo-title");const l=document.createElement("input");l.setAttribute("id","todo-title");const a=document.createElement("label");a.textContent="Description",a.setAttribute("for","todo-description");const p=document.createElement("textarea");p.setAttribute("id","todo-description");const u=document.createElement("button");u.textContent="Submit",u.setAttribute("type","button"),u.addEventListener("click",(()=>{e.removeChild(d),((e,t,n)=>{const o=c.getFullYear(),d=c.getMonth(),i=c.getDate();e.createTodo(t.value,n.value,o,d,i)})(o,l,p)})),d.appendChild(i),d.appendChild(l),d.appendChild(a),d.appendChild(p),d.appendChild(u),e.appendChild(d)};function u(){i.removeChild(l),l.innerHTML="";const e=Array.from(r).find((e=>!0===e.checked));if(e){const t=document.createElement("div"),n=document.createElement("h2");n.textContent=e.value;const o=document.createElement("button");o.textContent="Create New Todo",o.addEventListener("click",(()=>p())),t.appendChild(n),t.appendChild(o),l.appendChild(t)}i.appendChild(l)}const m=document.createElement("div");function s(){const e=Array.from(r).find((e=>!0===e.checked)),n=t.find((t=>t.projectName===e.value));m.innerHTML="",n.todoProjectList.forEach(((e,t)=>{if(!0===e.completed){const e=document.createElement("h2");e.textContent="Completed",m.appendChild(e)}const n=document.createElement("div"),o=document.createElement("h3");o.textContent=e.todoTitle;const c=document.createElement("p");c.textContent=e.timeOfCreation;const d=document.createElement("p");d.textContent=e.todoDescription;const i=document.createElement("button");i.textContent="Complete",i.addEventListener("click",(()=>e.onComplete(t,0)));const l=document.createElement("button");l.textContent="Edit";const r=document.createElement("button");r.textContent="Delete",r.addEventListener("click",(()=>e.onDelete(t,0))),m.appendChild(n),n.appendChild(o),n.appendChild(c),n.appendChild(d),n.appendChild(i),n.appendChild(l),n.appendChild(r)})),l.appendChild(m)}m.setAttribute("id","todos-div");const C=document.querySelector("main"),{projectsSection:h}=(()=>{const c=document.createElement("section");c.setAttribute("id","todo-projects");const i=document.createElement("div"),l=document.createElement("p"),r=document.createElement("button");r.textContent="Create New Project",r.addEventListener("click",(()=>p.style.display="block")),i.appendChild(l),i.appendChild(r);const p=document.createElement("form");p.setAttribute("id","new-project-form"),p.style.display="none";const m=document.createElement("label");m.textContent="Project Name",m.setAttribute("for","new-project");const C=document.createElement("input");C.setAttribute("id","new-project");const h=document.createElement("button");h.setAttribute("type","button"),h.textContent="Create New Project",h.addEventListener("click",(()=>{var c;c=C.value,t.push(function(c){const i=[];return{projectName:c,todoProjectList:i,deleteProject:o=>{t.splice(o,1),d(),e(),n=null},createTodo:(e,n,o,c,d)=>{i.push(function({titleInputValue:e,descriptionInputValue:n,fullYear:o,month:c,day:d}){return{todoTitle:e,todoDescription:n,completed:!1,timeOfCreation:`Created at ${o}-${c}-${d}`,onComplete:(e,n)=>{!1===t[n].todoProjectList[e].completed?t[n].todoProjectList[e].completed=!0:t[n].todoProjectList[e].completed=!1,s()},onEdit:()=>{},onDelete:(e,n)=>{t[n].todoProjectList.splice(t[n].todoProjectList[e],1),s()}}}({titleInputValue:e,descriptionInputValue:n,fullYear:o,month:c,day:d})),s()},editProject:(c,i)=>{t[c].projectName=i,((e,t)=>{const n=document.querySelectorAll('input[name="project"]');o={projectName:t,checked:n[e].checked}})(c,i),d(),e(),a(),u(),s(),o={},n=null}}}(c)),d(),e(),n=null,p.style.display="none",a(),C.value=""})),p.appendChild(m),p.appendChild(C),p.appendChild(h);const E=document.createElement("ul");return E.setAttribute("id","project-list"),c.appendChild(i),c.appendChild(E),c.appendChild(p),{projectsSection:c}})();C.appendChild(h),e()})();